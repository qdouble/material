<md-sidenav-container id="offer-site" fullscreen>
  <md-sidenav [opened]="!mobile && !(onAdminLoginPage$ | async)" #sidenav [mode]="sideNavMode">
    <div class="os-sidenav-top"></div>
    <md-nav-list>
      <ng-template ngFor let-view [ngForOf]="views" let-even="even" let-odd="odd" let-rowIndex="index">
        <a *ngIf="view.loggedIn === !!loggedIn" md-list-item style="color: #272b27" [routerLink]="view.link" queryParamsHandling="preserve" routerLinkActive="active-link" (click)="mobile ? sidenav.close() : null">
          <md-icon md-list-icon>{{view.icon}}</md-icon>
          <span md-line>{{view.name}}</span>
          <span md-line class="secondary">{{view.description}}</span>
        </a>
      </ng-template>
      <a md-list-item style="color: #272b27" href="https://www.facebook.com/groups/irproofpics/" target="_blank">
        <span md-line>
          <img style="margin-left: 5px;" width="20px" height="20px" id="fb-logo" src="assets/svg/fb-logo.svg">
            <span style="margin-left: 17px; position: relative; top: -4px;">Proof Pic Group</span>
        </span>
      </a>
      <a *ngIf="loggedIn" md-list-item style="color: #272b27"  queryParamsHandling="preserve" routerLinkActive="active-link" (click)="logout(); mobile ? sidenav.close() : null">
        <md-icon md-list-icon>close</md-icon>
        <span md-line>Logout</span>
      </a>
    </md-nav-list>
  </md-sidenav>
  <md-toolbar color="primary" id="os-toolbar">
    <button md-icon-button (click)="sidenav.toggle(); toggleMobile()">
      <md-icon style="color: white">menu</md-icon>
    </button>
    <img id="level-menu-logo" src="assets/svg/lr-logo-rev5.svg">
    <div *ngIf="!(onAdminLoginPage$ | async)" class="os-toolbar-right">
      <span class="notifications"  osClickOutside (clickOutside)="showNotifications = false">
        <button *ngIf="loggedIn" md-icon-button color="primary" (click)="showNotifications = !showNotifications">
          <md-icon style="color: #e8e8e8;" >notifications</md-icon>
        </button>
        <div class="ntfy-count-circle" *ngIf="(unreadNotificatonPendingTotal$ | async) || (unreadNotificationTotal$ | async)" (click)="showNotifications = !showNotifications">
          <div class="ntfy-number">{{((unreadNotificatonPendingTotal$ | async) || (unreadNotificationTotal$ | async)) | showMax: 99}}</div>
        </div>    
      <div class="ntfy-nub" *ngIf="showNotifications"></div>
      <div class="ntfy-drop" *ngIf="showNotifications">
        <div class="ntfy-drop-top">
          <div class="ntfy-label">Notifications</div>
          <div class="ntfy-options" (click)="markAllNotificationsAsRead()">Mark all as read</div>
        </div>
        <os-notifications-dropdown></os-notifications-dropdown>
        <div class="ntfy-drop-bottom">
          <div class="ntfy-see-all" [routerLink]="['notifications']">See All</div>
        </div>
      </div>
      </span>
      <button *ngIf="loggedIn && false" md-icon-button color="primary" (click)="null">
        <md-icon style="color: #e8e8e8;" >mail</md-icon>
      </button>
      <div class="ntfy-messages-circle" *ngIf="unreadMessageTotal$ | async">
        <div class="ntfy-number">{{unreadMessageTotal | async}}</div>
      </div>
    </div>
  </md-toolbar>
  <md-card id="my-page-card">
    <router-outlet (activate)="activateEvent($event)" (deactivate)="deactivateEvent($event)"></router-outlet>
  </md-card>
</md-sidenav-container>
<os-store-devtools *ngIf="showMonitor"></os-store-devtools>