<div class="os-table-container">
  <table class="mdl-data-table mdl-shadow--2dp">
    <thead>
      <tr>
        <th style="padding-left: 8px; padding-right: 3px; vertical-align: bottom" class="mdl-data-table__cell--non-numeric"></th>
        <th class="mdl-data-table__cell--non-numeric hide-1" (click)="sortBy.emit('createdAt')">Opened</th>
        <th class="mdl-data-table__cell--non-numeric" (click)="sortBy.emit('subject')">Subject</th>
        <th class="mdl-data-table__cell--non-numeric">
          <span style="position: relative; top: 6px"></span>
          <button md-button (click)="reload.emit($event)" color="primary" id="reload-tickets" class="hide-small">
            RELOAD TICKETS
          </button>
        </th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let ticket of tickets; trackBy: trackById">
          <td class="unread-td">
            <md-icon *ngIf="!ticket?.readByUser" style="font-size: 18px; color: #4CAF50">brightness_1</md-icon>
          </td>
          <td class="mdl-data-table__cell--non-numeric hide-1">
            {{ticket.createdAt | date: 'MMM d h:mm a'}}
          </td>
          <td class="mdl-data-table__cell--non-numeric">
            <span md-tooltip="{{ticket.subject}}">{{ticket.subject | slice:0:18 }}</span>
          </td>
          <td>
            <button class="view-tickets-btn" md-button color="primary" type="button" [routerLink]="['view-ticket', { id: ticket.id } ]">VIEW({{ticket.entries}})</button>
            <button class="close-ticket-btn hide-small" md-button [color]="ticket.closed ? 'primary' : 'accent'" type="button" (click)="ticket?.closed ? closeTicket.emit({id: ticket.id, close: false}) : closeTicket.emit({id: ticket.id, close: true})">
              {{ticket.closed ? 'REOPEN' : 'CLOSE'}}
              </button>
          </td>
        </tr>
    </tbody>
  </table>
</div>