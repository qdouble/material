<mat-card class="os-page-container" @fade>
  <div class="os-support-tickets-table-container">
    <ng-container *ngIf="(openTickets$ | async)?.length > 0">
      <mat-card class="os-support-ticket-section os-section-card">
        <os-support-ticket-table [tickets]="openTickets$ | async" (closeTicket)=closeTicket($event) (sortBy)=sortBy($event)>
        </os-support-ticket-table>
      </mat-card>
    </ng-container>
    <ng-container *ngIf="(closedTickets$ | async)?.length > 0">
      <mat-card class="os-title-card primary-background">Closed Tickets</mat-card>
      <mat-card class="os-support-ticket-section os-section-card">
        <os-support-ticket-table [tickets]="closedTickets$ | async" (closeTicket)=closeTicket($event) (sortBy)=sortBy($event)>
        </os-support-ticket-table>
      </mat-card>
    </ng-container>
    <ng-container *ngIf="(creditRequests$ | async)?.length > 0">
      <mat-card class="os-title-card primary-background">Credit Requests</mat-card>
      <mat-card class="os-support-ticket-section os-section-card">
        <os-credit-request-table [creditRequests]="creditRequests$ | async">
        </os-credit-request-table>
      </mat-card>
    </ng-container>
    <mat-card class="os-title-card primary-background">New Support Ticket</mat-card>
    <mat-card class="os-new-support-ticket os-section-card">
      <os-support-ticket [addedObs]="added$" [ticketSubject]="ticketSubject"></os-support-ticket>
    </mat-card>
    <br>
    <a [routerLink]="['credit-request']">
      <mat-card id="credit-request-tab" class="os-message-card primary-background white">
        Missing credit for an offer you completed?
        <br>
        <b>Click Here to File a Missing Credit Request.</b>
      </mat-card>
    </a>
  </div>
</mat-card>
