<div class="os-table-container">
 
  <div class="table">
      <div class="row header">
        <div class="cell hide-1" (click)="sortBy.emit('addedOn')">Added On</div>
        <div class="cell" (click)="sortBy.emit('username')">Username</div>
        <div class="cell" (click)="sortBy.emit('level')">Level</div>
        <div class="cell"></div>
      </div>
      <ng-container *ngFor="let referral of referrals">
        <div [ngClass]="{'green': referral.payBeyondLevel < referral.currentLevel, 'red': referral.hold, 'row': true }">
          <div class="cell hide-1"style="white-space: nowrap;">
            {{referral.addedOn | date: medium }}
          </div>
          <div class="cell">
            <span class="long-username">{{referral.username | slice:0:20 }}</span>
            <span class="short-username">{{referral.username | slice:0:10 }}</span>
          </div>
          <div class="cell" style="white-space: nowrap">
            <ng-container *ngIf="!referral.hold">
              <span>{{referral.currentLevel}}</span>
              <ng-container *ngIf="referral.payBeyondLevel < referral.currentLevel">
                <span><b>({{ referral.currentLevel - referral.payBeyondLevel }})</b></span>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="referral.hold"> Hold </ng-container>
          </div>
          <div class="cell last-cell">
            <button md-icon-button [ngClass]="{'white-background': (!referral.leveledUp || referral.hold) , 'primary-background':  (referral.leveledUp && !referral.hold), 'warn-background': referral.hold }" 
              (click)="getReferral.emit(referral)">
              <md-icon>remove_red_eye</md-icon>
            </button>
            <button md-icon-button  md-tooltip="Send Message (Coming Soon)" tooltip-position="before" [ngClass]="{'hide-mail': true, 'white-background': (!referral.leveledUp || referral.hold) , 'primary-background':  (referral.leveledUp && !referral.hold), 'warn-background': referral.hold }">
              <md-icon>email</md-icon>
            </button>
          </div>
        </div>
      </ng-container>
  </div>
</div>