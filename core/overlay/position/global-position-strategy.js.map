{"version":3,"sources":["core/overlay/position/global-position-strategy.ts"],"names":[],"mappings":"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","file":"global-position-strategy.js","sourcesContent":["import {applyCssTransform} from '../../style/apply-transform';\nimport {PositionStrategy} from './position-strategy';\n\n\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * explicit position relative to the browser's viewport.\n */\nexport class GlobalPositionStrategy implements PositionStrategy {\n  private _cssPosition: string = 'absolute';\n  private _top: string = '';\n  private _bottom: string = '';\n  private _left: string = '';\n  private _right: string = '';\n  private _width: string = '';\n  private _height: string = '';\n\n  /** Array of individual applications of translateX(). Currently only for centering. */\n  private _translateX: string[] = [];\n\n  /** Array of individual applications of translateY(). Currently only for centering. */\n  private _translateY: string[] = [];\n\n  /** Sets the element to use CSS position: fixed */\n  fixed() {\n    this._cssPosition = 'fixed';\n    return this;\n  }\n\n  /** Sets the element to use CSS position: absolute. This is the default. */\n  absolute() {\n    this._cssPosition = 'absolute';\n    return this;\n  }\n\n  /** Sets the top position of the overlay. Clears any previously set vertical position. */\n  top(value: string) {\n    this._bottom = '';\n    this._translateY = [];\n    this._top = value;\n    return this;\n  }\n\n  /** Sets the left position of the overlay. Clears any previously set horizontal position. */\n  left(value: string) {\n    this._right = '';\n    this._translateX = [];\n    this._left = value;\n    return this;\n  }\n\n  /** Sets the bottom position of the overlay. Clears any previously set vertical position. */\n  bottom(value: string) {\n    this._top = '';\n    this._translateY = [];\n    this._bottom = value;\n    return this;\n  }\n\n  /** Sets the right position of the overlay. Clears any previously set horizontal position. */\n  right(value: string) {\n    this._left = '';\n    this._translateX = [];\n    this._right = value;\n    return this;\n  }\n\n  /** Sets the overlay width and clears any previously set width. */\n  width(value: string) {\n    this._width = value;\n\n    // When the width is 100%, we should reset the `left` and the offset,\n    // in order to ensure that the element is flush against the viewport edge.\n    if (value === '100%') {\n      this.left('0px');\n    }\n\n    return this;\n  }\n\n  /** Sets the overlay height and clears any previously set height. */\n  height(value: string) {\n    this._height = value;\n\n    // When the height is 100%, we should reset the `top` and the offset,\n    // in order to ensure that the element is flush against the viewport edge.\n    if (value === '100%') {\n      this.top('0px');\n    }\n\n    return this;\n  }\n\n  /**\n   * Centers the overlay horizontally with an optional offset.\n   * Clears any previously set horizontal position.\n   */\n  centerHorizontally(offset = '') {\n    this._left = '50%';\n    this._right = '';\n    this._translateX = ['-50%'];\n\n    if (offset) {\n      this._translateX.push(offset);\n    }\n\n    return this;\n  }\n\n  /**\n   * Centers the overlay vertically with an optional offset.\n   * Clears any previously set vertical position.\n   */\n  centerVertically(offset = '') {\n    this._top = '50%';\n    this._bottom = '';\n    this._translateY = ['-50%'];\n\n    if (offset) {\n      this._translateY.push(offset);\n    }\n\n    return this;\n  }\n\n  /**\n   * Apply the position to the element.\n   * TODO: internal\n   */\n  apply(element: HTMLElement): Promise<void> {\n    element.style.position = this._cssPosition;\n    element.style.top = this._top;\n    element.style.left = this._left;\n    element.style.bottom = this._bottom;\n    element.style.right = this._right;\n    element.style.width = this._width;\n    element.style.height = this._height;\n\n    // TODO(jelbourn): we don't want to always overwrite the transform property here,\n    // because it will need to be used for animations.\n    let translateX = this._reduceTranslateValues('translateX', this._translateX);\n    let translateY = this._reduceTranslateValues('translateY', this._translateY);\n\n    applyCssTransform(element, `${translateX} ${translateY}`);\n\n    return Promise.resolve(null);\n  }\n\n  /** Reduce a list of translate values to a string that can be used in the transform property */\n  private _reduceTranslateValues(translateFn: string, values: string[]) {\n    return values.map(t => `${translateFn}(${t})`).join(' ');\n  }\n}\n"]}